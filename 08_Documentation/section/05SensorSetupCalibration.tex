\newpage
\subsubsection{Sensor Setup and Calibration}
\hfill
\\
An understanding of how the sensors operate is required before they can be correctly integrated into the system.  
This involves studying their configuration tools, calibration procedures, and data output formats.  
Only by understanding their internal operation and limitations can they be properly adapted for the precise requirements of this application.

\vspace{0.5em}
\noindent\textbf{Radar Setup and Calibration}
\label{sec:radar_setup_calibration}

\paragraph{Configuration Tools}
\hfill
\\
To configure and validate the radar sensors, two official Texas Instruments tools were employed: the \textit{mmWave Demo Visualizer} and the \textit{mmWave Sensing Estimator}.  
These tools allowed the rapid prototyping of chirp profiles and provided immediate feedback on their impact on range and velocity performance.  

The \textbf{mmWave Demo Visualizer} \cite{mmwave_demo_web, mmwave_demo_doc} is a browser-based application that enables basic sensor configuration and visualization.  
It allows the user to adjust frame rate, range resolution, maximum range, and velocity settings, while simultaneously observing output plots such as point clouds, noise profile, range profile, and Doppler heatmaps.  
This tool was particularly useful for testing standard chirp configurations and ensuring the correct operation of the radar hardware in a controlled environment.  
Figure~\ref{fig:mmwave_demo_visualizer} shows an example of the configuration interface.  

\begin{figure}[!htbp]
    \centering
    \includegraphics[width=0.9\linewidth]{images/mmWaveDemoVisualizer.png}
    \caption{mmWave Demo Visualizer interface for radar setup and visualization.\\
    \textit{Source: Texas Instruments, available at \href{https://dev.ti.com/gallery/view/mmwave/mmWave_Demo_Visualizer/ver/3.6.0/}{dev.ti.com}}}
    \label{fig:mmwave_demo_visualizer}
\end{figure}

Complementing this, the \textbf{mmWave Sensing Estimator} \cite{mmwave_demo_output} provides a theoretical framework to design chirp profiles.  
By specifying parameters such as slope, bandwidth, ADC sampling rate, and frame timing, the tool outputs derived radar capabilities including range resolution, maximum detectable velocity, and unambiguous range.  
However, it must be emphasized that the estimator only generates feasible profilesâ€”it does not guarantee hardware compatibility.  
Each configuration must be tested on the actual radar device to confirm correct execution.  
Figure~\ref{fig:mmwave_sensing_estimator} illustrates the chirp design interface of the estimator.  

\begin{figure}[!htbp]
    \centering
    \includegraphics[width=0.9\linewidth]{images/sensingEstimatorChirp.png}
    \caption{mmWave Sensing Estimator interface for chirp configuration design.\\
    \textit{Source: Texas Instruments, available at \href{https://dev.ti.com/gallery/view/mmwave/mmWaveSensingEstimator/ver/2.5.1/}{dev.ti.com}}}
    \label{fig:mmwave_sensing_estimator}
\end{figure}
\vspace{0.5em}
\paragraph{Sensor Transformations}
\hfill
\\
Each radar sensor in the dual-radar configuration was mounted with a yaw offset of $\pm30^\circ$, a pitch tilt of $15^\circ$ upward, and a lateral displacement from the vehicle centerline.  
To ensure all detections could be expressed in a coherent vehicle-centric frame, the following extrinsic corrections were applied in sequence:

\begin{enumerate}
    \item \textbf{Yaw rotation} $R_{\text{yaw}}$: compensates for the $\pm30^\circ$ mounting angle around the Z-axis.  
    \item \textbf{Pitch rotation} $R_{\text{pitch}}$: corrects the $15^\circ$ upward tilt by rotating around the X-axis.  
    \item \textbf{Translation} $\vec{T}$: shifts the point clouds by the physical offsets of each radar ($x=-0.32$ m for left, $x=-0.28$ m for right).
\end{enumerate}

The transformation from radar to vehicle coordinates is expressed as:
\begin{equation}
    \vec{p}_{\text{veh}} = R_{\text{yaw}} \cdot R_{\text{pitch}} \cdot \vec{p}_{\text{radar}} + \vec{T}
    \label{eq:radar_to_vehicle_transform_short}
\end{equation}

These corrections ensured that detections from both radars overlapped coherently, avoiding duplicated or misaligned clusters.  
Without them, raw dual-sensor data appeared inconsistent, particularly when fusing Doppler-based velocity estimates.  
After applying yaw, pitch, and translation adjustments, the fused point cloud served as a stable input for clustering, odometry, and tracking.
\vspace{0.5em}
\paragraph{Chirp Configuration}
\hfill
\\
The IWR6843AOP operates as a Frequency-Modulated Continuous Wave (FMCW) radar, transmitting chirps whose frequency increases linearly over a bandwidth $B$ during a duration $T_c$.  
Reflected signals return with a frequency shift that encodes target range, while Doppler shifts across successive chirps provide relative velocity.  
The key design parameters include start frequency $f_0$ [GHz], slope $S$ [Hz/s], chirp duration $T_c$ [s], idle time $T_{\text{idle}}$ [s], sampling rate $f_s$ [Hz], and resulting bandwidth $B = S \cdot T_c$ [Hz].

From these parameters, the radar capabilities are determined as:
\[
    \Delta R = \frac{c}{2B} \quad [\text{m}], \qquad
    R_{\max} = \frac{c f_s}{2S} \quad [\text{m}],
\]
\[
    \Delta v = \frac{\lambda}{2 N_c T_c} \quad [\text{m/s}], \qquad
    v_{\max} = \frac{\lambda}{4 T_c} \quad [\text{m/s}]
\]
where $\Delta R$ is the range resolution, $R_{\max}$ the maximum unambiguous range, $\Delta v$ the velocity resolution, and $v_{\max}$ the maximum unambiguous velocity.

In a dual-radar configuration, chirp design must also address mutual interference.  
If both devices transmit wideband chirps simultaneously, spectral overlap can generate ghost detections and degraded signal quality.  
To mitigate this, strategies such as non-overlapping frequency allocations, interleaved chirps, or slope diversity are used.  
This ensures orthogonality between radars, preserving the integrity of fused point clouds.

For this work, the chirp profiles were derived using the TI Radar Estimator tool, which balances range precision and velocity resolution while ensuring feasible hardware constraints.  
Wide-band sweeps provided fine range resolution, while multiple chirps per frame ensured adequate Doppler resolution for ego-motion estimation.  
The resulting configuration supported robust operation in the dual-radar setup without excessive interference.


\hfill
\\
\vspace{0.5em}
\noindent\textbf{IMU Setup and Calibration}
\label{sec:imu_setup_calibration}

\setcounter{paragraph}{0} % Restart paragraph numbering

\paragraph{Configuration Tools}
\hfill
\\
The MTi-G-710 was first evaluated with \textit{Xsens MT Manager} to understand the sensor outputs and axis conventions.  
Using the tool, quaternion orientation was visualized in real time while the unit was held still and under gentle rotations to verify stability and drift.  
Reference frames were checked so that the IMU heading and gravity vector aligned with the vehicle-centric frame used in the radar pipeline.  
Output rate, message content, and quaternion format were confirmed in this stage before any integration work.  
This step served only for validation and sanity checks; the final system consumed the IMU stream directly during experiments.  
\vspace{0.5em}
\paragraph{Calibration Aspects}
\hfill
\\
The IMU was mounted on a rigid, nearly horizontal plate at the rear of the vehicle to minimize vibrations and to avoid introducing tilt that would require post-processing.  
On power-up, the device was initialized with a short configuration sequence to enable quaternion output at the desired rate, as specified in the low-level protocol documentation~\cite{mti_lowlevel_doc}.  
This sequence places the device in configuration mode, sets the output configuration (quaternions at a fixed sample rate), and returns it to measurement mode for streaming.  
Because the MTi-G-710 is factory-calibrated and runs an internal sensor-fusion engine, no additional field calibration was required beyond correct mounting and a stable magnetic/metal environment~\cite{mti710_manual}.  
GNSS and velocity outputs were not used in this work; only quaternions were consumed to provide a reliable attitude reference for aligning radar point clouds.  
